/*! For license information please see main.js.LICENSE.txt */
(()=>{"use strict";var e={"./src/sass/main.scss":(e,s,t)=>{t.r(s)},"./src/js/modules/baseValue.js":(e,s,t)=>{t.r(s),t.d(s,{baseValue:()=>a});const a={level:"BEGINNER",bombsLeft:0,defFlags:0,defBombs:10,defSteps:0,defTime:0,defThem:"Dark",defSound:"On",firstInd:" ",bombsArray:[],cellsCount:100,cell:"",records:JSON.parse(localStorage.getItem("records"))||["","","","","","","","","",""],stepsCount:0}},"./src/js/modules/changeTheme.js":(e,s,t)=>{t.r(s),t.d(s,{changeTheme:()=>a});const a=()=>{const e=document.querySelector(".dark"),s=document.querySelector(".img3"),t=document.querySelector("body"),a=document.querySelectorAll(".btn"),l=document.querySelectorAll(".data"),n=document.querySelector(".area"),r=document.querySelectorAll(".button"),c=document.querySelector(".h1"),o=document.querySelectorAll(".line");e.addEventListener("click",(d=>{e!==d.target&&s!==d.target||(t.classList.toggle("body-light"),a.forEach((e=>{e.classList.toggle("btn-light")})),l.forEach((e=>{e.classList.toggle("data-light")})),n.classList.toggle("area-light"),r.forEach((e=>{e.classList.toggle("button-light")})),c.classList.toggle("h1-day"),o.forEach((e=>{e.classList.toggle("line-day")})))}))}},"./src/js/modules/createField.js":(e,s,t)=>{t.r(s),t.d(s,{addField:()=>r});var a=t("./src/assets/flag-green.svg"),l=t("./src/assets/theme-icon.svg"),n=t("./src/js/modules/baseValue.js");const r=()=>{const e=document.querySelector("body"),s=document.createElement("header"),t=document.createElement("button"),r=document.createElement("div"),c=document.createElement("span"),o=document.createElement("button"),d=document.createElement("button"),i=document.createElement("button"),u=document.createElement("div"),m=document.createElement("span"),b=document.createElement("span"),p=document.createElement("div"),f=document.createElement("span"),g=document.createElement("span"),L=document.createElement("div"),h=document.createElement("span"),v=document.createElement("span"),V=document.createElement("textarea"),y=document.createElement("main"),E=document.createElement("div"),T=document.createElement("footer"),S=document.createElement("div"),C=document.createElement("button"),M=document.createElement("button"),N=document.createElement("button"),q=document.createElement("button"),H=document.createElement("h1"),j=document.createElement("div");s.className="header",e.appendChild(s),t.className="btn btnNG",s.appendChild(t),t.innerHTML="NEW GAME",r.className="wrapper",s.appendChild(r),c.className="message",r.appendChild(c),o.className="btn btnL1",r.appendChild(o),o.innerHTML="BEGINNER",d.className="btn btnL2",r.appendChild(d),d.innerHTML="MEDIUM",i.className="btn btnL3",r.appendChild(i),i.innerHTML="EXPERT",u.className="data flag",r.appendChild(u),m.innerHTML=`<img src = '${a}' style = 'scale: 100%`,m.className="flagImg",u.appendChild(m),b.className="flagCount",u.appendChild(b),b.innerHTML=n.baseValue.defFlags,p.className="data bombLeft",r.appendChild(p),f.className="bombImg",p.appendChild(f),g.className="bombCount",p.appendChild(g),g.innerHTML=n.baseValue.defBombs,L.className="data clicks",r.appendChild(L),h.className="clickImg",L.appendChild(h),v.className="clickCount",L.appendChild(v),v.innerHTML="0",V.className="area",r.appendChild(V),V.placeholder="TIME",y.className="main",e.appendChild(y),E.className="field",y.appendChild(E);const I=(e,s)=>{const t=e*s;E.innerHTML="<button class = button></button>".repeat(t)};I(10,10),t.addEventListener("click",(()=>document.location.reload())),o.addEventListener("click",(()=>document.location.reload())),o.addEventListener("click",(e=>{o===e.target&&(E.classList.contains("field-L2")&&E.classList.remove("field-L2"),E.classList.contains("field-L3")&&E.classList.remove("field-L3"),I(10,10),E.classList.add("field"))})),d.addEventListener("click",(e=>{d===e.target&&(E.classList.contains("field-L1")&&E.classList.remove("field-L1"),E.classList.contains("field-L3")&&E.classList.remove("field-L3"),I(15,15),E.classList.add("field-L2"),n.baseValue.level="MEDIUM",n.baseValue.defSteps=0,n.baseValue.defTime=0,n.baseValue.cellsCount=225,n.baseValue.defBombs=50,b.innerHTML=n.baseValue.defFlags,g.innerHTML=n.baseValue.defBombs)})),i.addEventListener("click",(e=>{i===e.target&&(E.classList.contains("field-L1")&&E.classList.remove("field-L1"),E.classList.contains("field-L2")&&E.classList.remove("field-L2"),I(25,25),E.classList.add("field-L3"),n.baseValue.level="EXPERT",n.baseValue.defSteps=0,n.baseValue.defTime=0,n.baseValue.cellsCount=625,n.baseValue.defBombs=99,b.innerHTML=n.baseValue.defFlags,g.innerHTML=n.baseValue.defBombs)})),T.className="footer",e.appendChild(T),S.className="wrap wrapperF",T.appendChild(S),N.className="btn btnSave",S.appendChild(N),N.innerHTML="SAVE",q.className="btn btnLoad",S.appendChild(q),q.innerHTML="LOAD",C.className="btn dark",S.appendChild(C),C.innerHTML=`<img src = '${l}' style = 'scale: 50%' class='img3'>`,M.className="btn volume",S.appendChild(M),H.className="h1",T.appendChild(H),H.innerHTML="TOP 10 WIN RESULTS",j.className="statistic",T.appendChild(j),j.innerHTML="<span class = line></span>".repeat(10),document.querySelectorAll(".line").forEach(((e,s)=>{const t=e;n.baseValue.records[s]&&(t.innerText=`${s+1}. ${n.baseValue.records[s]}`)}))}},"./src/js/modules/manageVol.js":(e,s,t)=>{t.r(s),t.d(s,{manageVol:()=>a});const a=()=>{const e=document.querySelector(".volume"),s=document.querySelector(".imgVol");e.addEventListener("click",(t=>{e!==t.target&&s!==t.target||e.classList.toggle("volume-mute")}))}},"./src/js/modules/startGame.js":(e,s,t)=>{t.r(s),t.d(s,{startGame:()=>d});var a=t("./src/js/modules/baseValue.js"),l=t("./src/assets/Pow.svg"),n=t("./src/assets/Win.mp3"),r=t("./src/assets/lost.mp3"),c=t("./src/assets/flag.mp3"),o=t("./src/assets/cells.mp3");const d=()=>{const e=document.createElement("audio");e.src=n;const s=document.createElement("audio");s.src=r;const t=document.createElement("audio");t.src=c;const d=document.createElement("audio");function i(e,s){return e>=0&&e<Math.sqrt(a.baseValue.cellsCount)&&s>=0&&s<Math.sqrt(a.baseValue.cellsCount)}function u(e,s){if(!i(e,s))return!1;const t=e*Math.sqrt(a.baseValue.cellsCount)+s;return a.baseValue.bombsArray.includes(t)}function m(e,s){if(!i(e,s))return;const t=e*Math.sqrt(a.baseValue.cellsCount)+s,n=[...document.querySelector(".field").children][t];if(!0===n.disabled||n.classList.contains("flagImg"))return;if(n.disabled=!0,document.querySelector(".volume").classList.contains("volume-mute")||d.play(),u(e,s)){n.innerHTML=`<img src = '${l}'>`;for(let e=0;e<a.baseValue.cellsCount;e+=1)a.baseValue.bombsArray.includes(e)||([...document.querySelector(".field").children][e].disabled=!0);return}const r=function(e,s){let t=0;for(let a=-1;a<=1;a+=1)for(let l=-1;l<=1;l+=1)u(e+l,s+a)&&(t+=1);return t}(e,s);if(0!==r&&!u(e,s))return n.innerHTML=r,"1"===n.innerHTML&&(n.style.color="rgb(137, 12, 144)"),"2"===n.innerHTML&&(n.style.color="rgb(39, 116, 232)"),"3"===n.innerHTML&&(n.style.color="rgb(39, 232, 71)"),"4"===n.innerHTML&&(n.style.color="rgb(246, 11, 11)"),"5"===n.innerHTML&&(n.style.color="rgb(251, 255, 0)"),"6"===n.innerHTML&&(n.style.color="rgb(255, 0, 200)"),"7"===n.innerHTML&&(n.style.color="rgb(255, 123, 0)"),void("8"===n.innerHTML&&(n.style.color="rgb(16, 173, 171)"));for(let t=-1;t<=1;t+=1)for(let a=-1;a<=1;a+=1)m(e+a,s+t)}d.src=o,document.querySelector(".field").addEventListener("click",(t=>{const l=[...document.querySelector(".field").children].indexOf(t.target),n=l%Math.sqrt(a.baseValue.cellsCount),r=Math.floor(l/Math.sqrt(a.baseValue.cellsCount));"BUTTON"===t.target.tagName&&"BUTTON"===t.target.tagName&&(a.baseValue.defSteps+=1,document.querySelector(".clickCount").innerHTML=a.baseValue.defSteps," "===a.baseValue.firstInd&&(a.baseValue.firstInd=l),1===a.baseValue.defSteps&&function(){let t=[],l=[...Array(a.baseValue.cellsCount).keys()].sort((()=>Math.random()-.5)).slice(0,a.baseValue.defBombs+1).filter((e=>e!==a.baseValue.firstInd));l.length>a.baseValue.defBombs?l.slice(0,a.baseValue.defBombs).forEach((e=>t.push(e))):l.forEach((e=>t.push(e))),a.baseValue.bombsArray=t;const n=setInterval((()=>{0===a.baseValue.defSteps&&clearInterval(n);const t=[...document.querySelector(".field").children];a.baseValue.defTime+=1,document.querySelector(".area").innerText=a.baseValue.defTime;let l=0,r=!0;t.forEach((e=>{l=e.disabled?l:l+=1,1===e.children.length&&(clearInterval(n),r=!1,document.querySelector(".volume").classList.contains("volume-mute")||s.play(),window.alert("Game over. Try again"))})),l===a.baseValue.defFlags&&!0===r&&(clearInterval(n),document.querySelector(".volume").classList.contains("volume-mute")||e.play(),window.alert(`Hooray! You found all mines in ${a.baseValue.defTime} seconds and ${a.baseValue.defSteps} moves!`),a.baseValue.records.unshift(`${a.baseValue.level} ${a.baseValue.defBombs} mines in ${a.baseValue.defTime} seconds and ${a.baseValue.defSteps} moves!`),a.baseValue.records.pop(),localStorage.setItem("records",JSON.stringify(a.baseValue.records)))}),1e3)}(),m(r,n))})),document.querySelector(".main").addEventListener("contextmenu",(e=>e.preventDefault())),document.querySelector(".main").addEventListener("mouseup",(e=>{if(3===e.which&&"BUTTON"===e.target.tagName&&a.baseValue.defFlags<=a.baseValue.defBombs){document.querySelector(".volume").classList.contains("volume-mute")||t.play(),a.baseValue.defFlags===a.baseValue.defBombs?e.target.classList.remove("flagImg"):e.target.classList.toggle("flagImg");let s=0;document.querySelectorAll(".button").forEach((e=>{e.classList.contains("flagImg")&&(s+=1)})),a.baseValue.defFlags=s,document.querySelector(".flagCount").innerText=a.baseValue.defFlags,a.baseValue.bombsLeft=a.baseValue.defBombs-a.baseValue.defFlags,document.querySelector(".bombCount").innerText=a.baseValue.bombsLeft}}))}},"./src/assets/Pow.svg":(e,s,t)=>{e.exports=t.p+"assets/ff8cb8192619e6b82966.svg"},"./src/assets/Win.mp3":(e,s,t)=>{e.exports=t.p+"assets/fe11611dce7f8accc24a.mp3"},"./src/assets/cells.mp3":(e,s,t)=>{e.exports=t.p+"assets/76d10b67302e25bede26.mp3"},"./src/assets/flag-green.svg":(e,s,t)=>{e.exports=t.p+"assets/0e99158369363b4a94f5.svg"},"./src/assets/flag.mp3":(e,s,t)=>{e.exports=t.p+"assets/53b1fa8d370929f152e4.mp3"},"./src/assets/lost.mp3":(e,s,t)=>{e.exports=t.p+"assets/a73668829131e657b234.mp3"},"./src/assets/theme-icon.svg":(e,s,t)=>{e.exports=t.p+"assets/2471000f1a30ecc69b07.svg"}},s={};function t(a){var l=s[a];if(void 0!==l)return l.exports;var n=s[a]={exports:{}};return e[a](n,n.exports,t),n.exports}t.d=(e,s)=>{for(var a in s)t.o(s,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:s[a]})},t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),t.o=(e,s)=>Object.prototype.hasOwnProperty.call(e,s),t.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var s=t.g.document;if(!e&&s&&(s.currentScript&&(e=s.currentScript.src),!e)){var a=s.getElementsByTagName("script");if(a.length)for(var l=a.length-1;l>-1&&!e;)e=a[l--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e})();var a={};(()=>{t.r(a),t("./src/sass/main.scss");var e=t("./src/js/modules/createField.js"),s=t("./src/js/modules/changeTheme.js"),l=t("./src/js/modules/manageVol.js"),n=t("./src/js/modules/startGame.js");(0,e.addField)(),(0,s.changeTheme)(),(0,l.manageVol)(),(0,n.startGame)()})()})();
//# sourceMappingURL=main.js.map